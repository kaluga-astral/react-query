# GIT

Модель ветвления GIT описана [здесь](https://github.com/kaluga-astral/docs/blob/main/GIT.md).

# Авторелизы

Для проекта подключены авторелизы npm пакетов с помощью semantic-release.
Semantic-release определяет новую версию пакета по названию коммита, а именно по его enum:
- feat - релиз minor версии пакетов
- bug - релиз patch версии пакетов
- wip (work in progress) - релиз произведен не будет
- refactor - релиз patch версии пакетов
- doc - релиз произведен не будет
- build - релиз patch версии пакетов
- chore - релиз произведен не будет
- major - будет произведен релиз major версии


## Релизы основных версий пакетов

При внесении изменений в main ветку запускается релиз пакетов. При релизе происходит следующее:
1. В ```create_release.yml``` срабатывает триггер на push в main
2. Semantic-release определяет новую версию пакета
3. Если новая версия пакета отличается от предыдущей, то запускается билд каждого пакета и его паблишинг в npm. Все пакеты релизяться сразу с одной версией
4. Semantic-release генерирует changelog и создает новый release на github, добавляя в описание сгенерированный changelog
5. После успешного паблишинга пакетов, в телеграм канал отправляется уведомление о новой версии пакетов
